!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("compass",[],t):"object"==typeof exports?exports.compass=t():e.compass=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),r(1);var s=r(9),i=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t,r,i,a){return void 0===t&&(t={showErrors:!0}),void 0===r&&(r=0),void 0===i&&(i=50),void 0===a&&(a=!1),n(this,void 0,void 0,function(){var n,u,c,l,f,p,d,h,y,b;return o(this,function(o){switch(o.label){case 0:n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json"},u=this.config.compassUrl+e,c="from="+r+"&size="+i,u+=e.indexOf("?q=")>-1?"&"+c:"?"+c,a&&(u+="&includedeleted=true"),t.showErrors&&(n["x-compass-show-errors"]="true"),l=0,f="",p="",o.label=1;case 1:return o.trys.push([1,5,,6]),[4,fetch(u,{method:"GET",headers:n})];case 2:if(d=o.sent(),l=d.status,f=d.statusText,p=d.url,!d.ok)throw new Error("Compass API call failed. ["+p+"] responded with: ["+l+" "+f+"]");return h="Compass API call successful. ["+p+"] responded with: ["+l+" "+f+"]",y=null,200!=d.status?[3,4]:[4,d.json()];case 3:y=o.sent(),o.label=4;case 4:return[2,{success:!0,status:l,error:null,message:h,result:y}];case 5:return b=o.sent(),[2,{success:!1,status:l,error:b,message:b.message,result:null}];case 6:return[2]}})})},e.prototype.post=function(e,t,r){return void 0===r&&(r={showErrors:!0}),n(this,void 0,void 0,function(){var n,i,a,u,c,l,f,p;return o(this,function(o){switch(o.label){case 0:n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json","Content-Type":"application/json"},r.showErrors&&(n["x-compass-show-errors"]="true"),i=0,a="",u="",o.label=1;case 1:return o.trys.push([1,7,,8]),[4,fetch(this.config.compassUrl+e,{method:"POST",headers:n,body:JSON.stringify(t)})];case 2:if(c=o.sent(),i=c.status,a=c.statusText,u=c.url,!c.ok)throw new Error("Compass API call failed. ["+u+"] responded with: ["+i+" "+a+"]");l=void 0,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,c.json()];case 4:return l=o.sent(),[3,6];case 5:return f=o.sent(),l=null,[3,6];case 6:return[2,{success:!0,status:i,error:null,message:null,result:l}];case 7:return p=o.sent(),[2,{success:!1,status:i,error:p,message:p.message,result:null}];case 8:return[2]}})})},e.prototype.put=function(e,t,r){return void 0===r&&(r={showErrors:!0}),n(this,void 0,void 0,function(){var n,i,a,u,c,l,f,p;return o(this,function(o){switch(o.label){case 0:n={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey,Accept:"application/json","Content-Type":r.urlEncoded?"application/x-www-form-urlencoded":"application/json"},r.showErrors&&(n["x-compass-show-errors"]="true"),i=0,a="",u="",o.label=1;case 1:return o.trys.push([1,7,,8]),[4,fetch(this.config.compassUrl+e,{method:"PUT",headers:n,body:JSON.stringify(t)})];case 2:if(c=o.sent(),i=c.status,a=c.statusText,u=c.url,!c.ok)throw new Error("Compass API call failed. ["+u+"] responded with: ["+i+" "+a+"]");l=void 0,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,c.json()];case 4:return l=o.sent(),[3,6];case 5:return f=o.sent(),l=null,[3,6];case 6:return[2,{success:!0,status:i,error:null,message:null,result:l}];case 7:return p=o.sent(),[2,{success:!1,status:i,error:p,message:p.message,result:null}];case 8:return[2]}})})},e.prototype.delete=function(e,t){return void 0===t&&(t={showErrors:!0}),n(this,void 0,void 0,function(){var r,n,i,a,u,c,l,f;return o(this,function(o){switch(o.label){case 0:r={Authorization:"Basic "+s.Base64.encode(this.config.username+":"+this.config.password),"x-compass-firm-id":this.config.firmId.toString(),"x-compass-api-key":this.config.apiKey},t.showErrors&&(r["x-compass-show-errors"]="true"),n=0,i="",a="",o.label=1;case 1:return o.trys.push([1,7,,8]),[4,fetch(this.config.compassUrl+e,{method:"DELETE",headers:r})];case 2:if(u=o.sent(),n=u.status,i=u.statusText,a=u.url,!u.ok)throw new Error("Compass API call failed. ["+a+"] responded with: ["+n+" "+i+"]");c=void 0,o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.json()];case 4:return c=o.sent(),[3,6];case 5:return l=o.sent(),c=null,[3,6];case 6:return[2,{success:!0,status:n,error:null,message:null,result:c}];case 7:return f=o.sent(),[2,{success:!1,status:n,error:f,message:f.message,result:null}];case 8:return[2]}})})},e.prototype.search=function(e,t,r,s,i,a,u){return void 0===r&&(r=null),void 0===s&&(s=0),void 0===i&&(i=50),void 0===a&&(a=!1),void 0===u&&(u={showErrors:!0}),n(this,void 0,void 0,function(){var n,c,l;return o(this,function(o){switch(o.label){case 0:if(""==(n=null!=t?t.trim():t)||null==n)throw new Error("Compass API call failed. String to search '"+n+"' is Empty or Invalid.");return c=e+"/search",l={queryString:n,fields:r,includeDeleted:a,Size:i,From:s},[4,this.post(c,l,u)];case 1:return[2,o.sent()]}})})},e.prototype.searchForAll=function(e,t,r,s,i){return void 0===r&&(r=null),void 0===s&&(s=!1),void 0===i&&(i={showErrors:!0}),n(this,void 0,void 0,function(){var n,a,u,c,l,f;return o(this,function(o){switch(o.label){case 0:n=!1,a=[],u=0,c=500,o.label=1;case 1:return n?[3,3]:[4,this.search(e,t,r,u,c,s,i)];case 2:if(l=o.sent(),200!=l.status)return[2,{success:l.success,status:l.status,error:l.error,message:l.message,result:null}];if(Object.keys(l.result).length>0){for(f=0;f<Object.keys(l.result).length;f++)a.push(l.result[f]);u+=c}else n=!0;return[3,1];case 3:return[2,{success:!0,status:200,error:null,message:null,result:a}]}})})},e}();t.Client=i},function(e,t,r){r(14),e.exports=self.fetch.bind(self)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.ClientConfig=n.ClientConfig;var o=r(0);t.Client=o.Client;var s=r(4);t.CompanyClient=s.CompanyClient;var i=r(5);t.ContactClient=i.ContactClient;var a=r(6);t.EmailClient=a.EmailClient;var u=r(7);t.PersonnelClient=u.PersonnelClient},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=function(){function e(e,t,r,n,o){this.urlTest=/^(http|https):\/\/[^ "]+$/,this.apiKeyTest=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,this._apiKey="",this._compassUrl="https://compass.uat.cosential.com/api",this._firmId=0,this._username="",this._password="",this.apiKey=n,this.compassUrl=o,this.firmId=e,this.username=t,this.password=r}return Object.defineProperty(e.prototype,"apiKey",{get:function(){return this._apiKey},set:function(e){if(!n.isUndefined(e)){if(!this.apiKeyTest.test(e))throw new Error("apiKey config property value ["+e+"] is not valid.");this._apiKey=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compassUrl",{get:function(){return this._compassUrl},set:function(e){if(!n.isUndefined(e)){if(!this.urlTest.test(e))throw new Error("compassUrl config property value ["+e+"] is not valid.");this._compassUrl=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firmId",{get:function(){return this._firmId},set:function(e){n.isUndefined(e)||(this._firmId=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return this._username},set:function(e){this._username=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this._password},set:function(e){this._password=e},enumerable:!0,configurable:!0}),e}();t.ClientConfig=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),r(1);var i=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCompanyAddress=function(e,t){return void 0===t&&(t={showErrors:!0}),o(this,void 0,void 0,function(){var r,n,o,i,a,u,c;return s(this,function(s){switch(s.label){case 0:return r="/companies/"+e+"/addresses",[4,this.get(r,t)];case 1:return n=s.sent(),(o="",i=null,null!=n.result&&n.result.length>0)?(a=this.findAddress(n.result),0==a[0]?[3,3]:(u=r+"/"+a[0],[4,this.get(u,t)])):[3,4];case 2:c=s.sent(),i=c.result,s.label=3;case 3:return o=a[1],[3,5];case 4:o="No associated addresses",s.label=5;case 5:return[2,{success:!0,status:200,error:null,message:o,result:i}]}})})},t.prototype.findAddress=function(e){var t=this,r=0,n="",o=e.find(function(e){return e.defaultInd&&!e.deleterecord});if(void 0==o){var s=e.find(function(r){return new Date(r.createdate).toString()==t.mostRecentDate(e)});void 0==s?n="Default address or a non deleted recent address not found.":(r=s.AddressID,n="Default address not found. Returning "+s.AddressTypeName+" address which is the most recent non deleted address.")}else r=o.AddressID,n="Default "+o.AddressTypeName+" address found and returned.";return[r,n]},t.prototype.mostRecentDate=function(e){var t=[];return e.forEach(function(e){e.deleterecord||t.push(new Date(e.createdate))}),new Date(Math.max.apply(null,t)).toString()},t}(i.Client);t.CompanyClient=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),r(1);var i=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getContactImages=function(e,t,r){return void 0===t&&(t=1),void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,o,i,a,u,c,a,l,f,p,d;return s(this,function(s){switch(s.label){case 0:return n="/contacts/"+e+"/images",[4,this.get(n,r)];case 1:if(o=s.sent(),!(null!=o.result&&o.result.length>0))return[3,9];if(i=[2,3,4],!(i.indexOf(t)>-1))return[3,3];switch(a="/images/contact/"+e+"/",t){case 2:a+="profilepicture";break;case 3:a+="cardfront";break;case 4:a+="cardback"}return[4,this.get(a,r)];case 2:return[2,s.sent()];case 3:u={},c=0,s.label=4;case 4:return c<o.result.length?(a=o.result[c].ImageUrl,l=a.substring(a.indexOf("/images/contact/")),[4,this.get(l,r)]):[3,7];case 5:f=s.sent(),p=o.result[c].ImageType,d=f.result.Data,u[p]=d,s.label=6;case 6:return c++,[3,4];case 7:return[2,{success:!0,status:200,error:null,message:null,result:u}];case 8:return[3,10];case 9:return[2,{success:!0,status:o.status,error:null,message:"No associated image metadata",result:null}];case 10:return[2]}})})},t.prototype.updateContactImage=function(e,t,r,n,i){return void 0===i&&(i={showErrors:!0}),o(this,void 0,void 0,function(){var o,a;return s(this,function(s){switch(s.label){case 0:return o="/images/contact/"+e+"/"+t,a={ContentType:r,Data:n},[4,this.put(o,a,i)];case 1:return[2,s.sent()]}})})},t.prototype.getContactAddress=function(e,t,r){return void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,o,i,a,u,c,l,f;return s(this,function(s){switch(s.label){case 0:return n="/contacts/"+e+"/addresses",[4,this.get(n,r)];case 1:return o=s.sent(),(i="",a=null,null!=o.result&&o.result.length>0)?(u=[1,2],u.indexOf(t)>-1?(c=1==t?this.findAddress(o.result,"office","home"):this.findAddress(o.result,"home","office"),l=n+"/"+c[0],[4,this.get(l,r)]):[3,3]):[3,5];case 2:return f=s.sent(),i=c[1],a=f.result,[3,4];case 3:i="Not a valid address type",s.label=4;case 4:return[3,6];case 5:i="No associated addresses",s.label=6;case 6:return[2,{success:!0,status:200,error:null,message:i,result:a}]}})})},t.prototype.findAddress=function(e,t,r){var n=this,o=0,s="",i=e.find(function(e){return e.AddressType.toLowerCase()==t&&1==e.DefaultInd});if(void 0==i){var a=e.find(function(r){return new Date(r.CreateDate).toString()==n.mostRecentDate(e,t)});if(void 0==a){var u=e.find(function(e){return e.AddressType.toLowerCase()==r&&1==e.DefaultInd});if(void 0==u){o=e.find(function(t){return new Date(t.CreateDate).toString()==n.mostRecentDate(e,r)}).AddressID,s="No "+t+" address found. No default "+r+" address found. Returning the most recent "+r+" address."}else o=u.AddressID,s="No "+t+" address found. Returning the default "+r+" address."}else o=a.AddressID,s="Default "+t+" address not found. Returning the most recent "+t+" address."}else o=i.AddressID,s="Default "+t+" address found and returned.";return[o,s]},t.prototype.mostRecentDate=function(e,t){var r=[];return e.forEach(function(e){e.AddressType.toLowerCase()==t&&r.push(new Date(e.CreateDate))}),new Date(Math.max.apply(null,r)).toString()},t}(i.Client);t.ContactClient=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),r(1);var i=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.addAttachment=function(e,t,r){return void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var r,n,o,i,a,u,c,l;return s(this,function(s){switch(s.label){case 0:return r="/emails/"+e+"/attachments",(n=[],o=0,t.length>0)?(t.forEach(function(e){o++,n.push({Id:0,FileName:"AttachmentViaAddIn "+o,DeleteRecord:!1,AttachmentEndpoint:null})}),[4,this.post(r,n)]):[3,8];case 1:if(i=s.sent(),!(null!=i.result&&i.result.length>0))return[3,6];a=0,u=0,s.label=2;case 2:return u<i.result.length?(c=i.result[u].AttachmentEndpoint,l={data:t[a]},[4,this.put(c.substring(c.indexOf("/emails")),l)]):[3,5];case 3:s.sent(),a++,s.label=4;case 4:return u++,[3,2];case 5:return[2,{success:!0,status:200,error:null,message:"Attachments created successfully.",result:null}];case 6:return[2,{success:!1,status:i.status,error:null,message:"Metadata creation failed. No attachments created.",result:null}];case 7:return[3,9];case 8:return[2,{success:!0,status:204,error:null,message:"No attachments found.",result:null}];case 9:return[2]}})})},t}(i.Client);t.EmailClient=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,s=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){u.label=r[1];break}if(6===r[0]&&u.label<i[1]){u.label=i[1],i=r;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(r);break}i[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],s=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,s,i,a,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(t,"__esModule",{value:!0}),r(1);var i=r(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPersonnelImages=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r={showErrors:!0}),o(this,void 0,void 0,function(){var n,o,i,a,u,c,l,f,u,c,a,p,d;return s(this,function(s){switch(s.label){case 0:return n="/personnel/"+e+"/images",[4,this.get(n,r)];case 1:return o=s.sent(),null!=o.result&&o.result.length>0?t?(i="PrimaryPhoto:true",[4,this.search(n,i)]):[3,3]:[3,8];case 2:if(a=s.sent(),a.result.length>0)return u=a.result[0].OriginalImageEndpoint,c=u.substring(u.indexOf("/images/personnel/")),[2,this.get(c,r)];s.label=3;case 3:l={},f=0,s.label=4;case 4:return f<o.result.length?(u=o.result[f].OriginalImageEndpoint,c=u.substring(u.indexOf("/images/personnel/")),[4,this.get(c,r)]):[3,7];case 5:a=s.sent(),p=o.result[f].ImageName,d=a.result.Data,l[p]=d,s.label=6;case 6:return f++,[3,4];case 7:return[2,{success:!0,status:200,error:null,message:null,result:l}];case 8:return[2,{success:!0,status:o.status,error:null,message:"No associated image metadata",result:null}]}})})},t}(i.Client);t.PersonnelClient=a},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[Ã€-ÃŸ][Â€-Â¿]","[Ã -Ã¯][Â€-Â¿]{2}","[Ã°-Ã·][Â€-Â¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return fromCharCode(55296+(r>>>10))+fromCharCode(56320+(1023&r));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][r],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(exports,__webpack_require__(13))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){y&&d&&(y=!1,d.length?h=d.concat(h):b=-1,h.length&&a())}function a(){if(!y){var e=o(i);y=!0;for(var t=h.length;t;){for(d=h,h=[];++b<t;)d&&d[b].run();b=-1,t=h.length}d=null,y=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var d,h=[],y=!1,b=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new u(e,t)),1!==h.length||y||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){(function(e){function n(e,r){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),a(n,e,n.depth)}function o(e,t){var r=n.styles[t];return r?"["+n.colors[r][0]+"m"+e+"["+n.colors[r][1]+"m":e}function s(e,t){return e}function i(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return g(o)||(o=a(e,o,n)),o}var s=u(e,r);if(s)return s;var h=Object.keys(r),y=i(h);if(e.showHidden&&(h=Object.getOwnPropertyNames(r)),x(r)&&(h.indexOf("message")>=0||h.indexOf("description")>=0))return c(r);if(0===h.length){if(C(r)){var b=r.name?": "+r.name:"";return e.stylize("[Function"+b+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return c(r)}var m="",v=!1,w=["{","}"];if(d(r)&&(v=!0,w=["[","]"]),C(r)){m=" [Function"+(r.name?": "+r.name:"")+"]"}if(_(r)&&(m=" "+RegExp.prototype.toString.call(r)),E(r)&&(m=" "+Date.prototype.toUTCString.call(r)),x(r)&&(m=" "+c(r)),0===h.length&&(!v||0==r.length))return w[0]+m+w[1];if(n<0)return _(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var A;return A=v?l(e,r,n,y,h):h.map(function(t){return f(e,r,n,y,t,v)}),e.seen.pop(),p(A,m,w)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,o){for(var s=[],i=0,a=t.length;i<a;++i)S(t,String(i))?s.push(f(e,t,r,n,String(i),!0)):s.push("");return o.forEach(function(o){o.match(/^\d+$/)||s.push(f(e,t,r,n,o,!0))}),s}function f(e,t,r,n,o,s){var i,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),S(n,o)||(i="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=y(r)?a(e,c.value,null):a(e,c.value,r-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),w(i)){if(s&&o.match(/^\d+$/))return u;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+u}function p(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function w(e){return void 0===e}function _(e){return A(e)&&"[object RegExp]"===j(e)}function A(e){return"object"==typeof e&&null!==e}function E(e){return A(e)&&"[object Date]"===j(e)}function x(e){return A(e)&&("[object Error]"===j(e)||e instanceof Error)}function C(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function j(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function B(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};t.apply(this,r).then(function(t){e.nextTick(i,null,t)},function(t){e.nextTick(D,t,i)})}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,I(t)),r}var I=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},U=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(n(arguments[r]));return t.join(" ")}for(var r=1,o=arguments,s=o.length,i=String(e).replace(U,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(o[r++]);case"%d":return Number(o[r++]);case"%j":try{return JSON.stringify(o[r++])}catch(e){return"[Circular]"}default:return e}}),a=o[r];r<s;a=o[++r])y(a)||!A(a)?i+=" "+a:i+=" "+n(a);return i},t.deprecate=function(r,n){function o(){if(!s){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),s=!0}return r.apply(this,arguments)}if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var s=!1;return o};var R,k={};t.debuglog=function(r){if(w(R)&&(R=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!k[r])if(new RegExp("\\b"+r+"\\b","i").test(R)){var n=e.pid;k[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else k[r]=function(){};return k[r]},t.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=y,t.isNullOrUndefined=b,t.isNumber=m,t.isString=g,t.isSymbol=v,t.isUndefined=w,t.isRegExp=_,t.isObject=A,t.isDate=E,t.isError=x,t.isFunction=C,t.isPrimitive=O,t.isBuffer=r(11);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=r(8),t._extend=function(e,t){if(!t||!A(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;t.promisify=function(e){function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(e){r(e)}return n}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t=e[N];if("function"!=typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,I(e))},t.promisify.custom=N,t.callbackify=B}).call(t,r(10))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&DataView.prototype.isPrototypeOf(e)}function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return _.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function l(e){var t=new FileReader,r=c(t);return t.readAsArrayBuffer(e),r}function f(e){var t=new FileReader,r=c(t);return t.readAsText(e),r}function p(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:_.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:_.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():_.arrayBuffer&&_.blob&&n(e)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):_.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||E(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=y(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function g(e){var t=new a;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}function w(e,t){return new Promise(function(r,n){function o(){i.abort()}var s=new b(e,t);if(s.signal&&s.signal.aborted)return n(new O("Aborted","AbortError"));var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new v(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.onabort=function(){n(new O("Aborted","AbortError"))},i.open(s.method,s.url,!0),"include"===s.credentials?i.withCredentials=!0:"omit"===s.credentials&&(i.withCredentials=!1),"responseType"in i&&_.blob&&(i.responseType="blob"),s.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),s.signal&&(s.signal.addEventListener("abort",o),i.onreadystatechange=function(){4===i.readyState&&s.signal.removeEventListener("abort",o)}),i.send(void 0===s._bodyInit?null:s._bodyInit)})}Object.defineProperty(t,"__esModule",{value:!0}),t.Headers=a,t.Request=b,t.Response=v,r.d(t,"DOMException",function(){return O}),t.fetch=w;var _={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(_.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(e){return e&&A.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},a.prototype.delete=function(e){delete this.map[o(e)]},a.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},a.prototype.set=function(e,t){this.map[o(e)]=s(t)},a.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),i(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),i(e)},_.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},h.call(b.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];v.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})};var O=self.DOMException;try{new O}catch(e){O=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},O.prototype=Object.create(Error.prototype),O.prototype.constructor=O}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=a,self.Request=b,self.Response=v)},function(e,t,r){e.exports=r(2)}])});
//# sourceMappingURL=compass.min.js.map